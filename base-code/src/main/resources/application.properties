spring.application.name=base-code

# ===============================================
# DATASOURCE AYARLARI (Hibrit - Hem Lokal Hem Production)
# ===============================================
# Kural: Önce "SPRING_DATASOURCE_URL" ortam değişkenini ara (Docker ve Railway bunu sağlar).
# Eğer o değişkeni bulamazsan (yani IDE'den çalışıyorsan),
# o zaman localhost:5432'deki lokal veritabanını kullan.

spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/postgres}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:1142}
spring.jpa.properties.hibernate.default_schema=book_social

# Flyway'in de aynı esnek ayarları kullanmasını sağlıyoruz
spring.flyway.url=${spring.datasource.url}
spring.flyway.user=${spring.datasource.username}
spring.flyway.password=${spring.datasource.password}

# ===============================================
# JPA & FLYWAY AYARLARI
# ===============================================
spring.jpa.hibernate.ddl-auto=validate # Her zaman 'validate' modunda
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

spring.flyway.schemas=book_social
spring.flyway.locations=classpath:db/migration

# ===============================================
# DIĞER AYARLAR
# ===============================================
google.books.api.key=${GOOGLE_BOOKS_API_KEY:AIzaSyC7TJmAe7XdN5iiUYZWaWPN3yFIqERA6n0}